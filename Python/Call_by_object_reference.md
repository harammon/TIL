# Call_by_object_reference (객체 참조에 의한 전달)

- 파이썬에서 인수전달은 실제 인수인 객체에 대한 참조를 값으로 전달하여 매개변수에 대입되는 방식이다.

- 값에 의한 호출`(call by value)`와 참조에 의한 호출`(call by reference)`의 중간적인 방식이다.

  -> 객체 참조에 의한 전달`(call by object reference)`

- 함수의 실행 시작 시점에서 매개변수는 실제 인수와 **같은 객체**를 참조한다.

- 함수에서 매개변수의 값을 변경하면, 인수의 형(type)에 따라 다음과 같이 구분한다.

### 1. 인수가 이뮤터블일 때

~~~python
# 1부터 n까지 정수의 합 구하기
def sum_1ton(n):
    s = 0
    while n > 0:
        s += n
        n -= 1
    return s

x = int(input('x의 값을 입력하세요. : '))
print('1부터 %d까지 정수의 합은 %d입니다.' %(x, sum_1ton(x)))
~~~

<실행 결과>

``` python
x의 값을 입력하세요. : 5
1부터 5까지의 정수의 합은 15입니다.
```

- 변수 x의 값(5)은 호출하기 전의 값 그대로인 것을 확인할 수 있다.
- 변수 n은 함수 안에서 값이 업데이트되는 시점에 다른 객체를 참조하게 된다.



### 2. 인수가 뮤터블일 때

~~~python
# 리스트에서 임의의 원솟값을 업데이트하기
def change(lst, idx, val):
    lst[idx] = val

x = [11, 22, 33, 44, 55]
print('x =', x)

index = int(input('업데이트할 인덱스를 선택하세요. : '))
value = int(input('새로운 값을 입력하세요. : '))

change(x, index, value)
print('x =', x)
~~~

<실행 결과>

~~~python
x = [11, 22, 33, 44, 55]
업데이트할 인덱스를 선택하세요. : 2
새로운 값을 입력하세요. : 99
x = [11, 22, 99, 44, 55]
~~~

- 인수가 뮤터블하면, 함수 안에서 업데이트한 값이 원래 호출한 곳으로 전달된다는 것을 알 수 있다.



### 3. 정리

- **인수가 이뮤터블일 때** : 함수 안에서 매개변수의 값을 변경하면, 다른 객체를 생성하고 그 객체에 대한 참조로 업데이트된다.

  -> 따라서, 매개변수의 값을 변경해도 호출하는 쪽의 실제 인수에는 영향을 주지 않는다.



- **인수가 뮤터블일 때** : 함수 안에서 매개변수의 값을 변경하면 객체 자체를 업데이트한다. 

  -> 따라서, 매개변수의 값을 변경하면 호출하는 쪽의 실제 인수는 값이 변경된다.

<br/><br/>
[출처]<br/>
Bohyoh Shibata, 『자료구조와 함께 배우는 알고리즘 입문 파이썬 편』, 강민 옮김, 이지스퍼블리싱(2020), p95-97.
